<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <title>Graph 1: Scatter Plot of Greenhouse Gases</title>

<script>
d3.select(window).on('load',init1)

function init1() {   


       


          

      });
}
        




}
            
            
            

    


function timeSlider(specifiedTime) {

    svg.selectAll('*').remove()
    console.log("Updating Graph1")
    var g2 = svg.append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`)

    const xAxisG2 = g1.append('g')
                    .attr('transform', `translate(0, ${innerHeight})`);

    const yAxisG2 = g1.append('g');
    
    var pointsDisplayed = [];
    selectedGasNames.forEach(function(gas) {
        pointsToAdd = ( mapping1.filter(function(subArray) { if (subArray.key == gas ){return true} else{return false}}) )[0].value
        pointsDisplayed = pointsDisplayed.concat(pointsToAdd)
    })

    pointsDisplayed = pointsDisplayed.filter(function(point) {
      if(point.time <= specifiedTime) {
      return true;
      }else {
      return false;
      }
    })


g.selectAll(".mapping")
         .data(pointsDisplayed)
         .enter()
         .append("circle")
         .attr("class", "mapping")
         .attr("r", 4.5)
         .attr("cx", function(d) { return xScale(d.x); })
         .attr("cy", function(d) { return yScale(d.y); })
         .style("fill", function(d, i) { return zScale[d.key]; })
         .on("mouseover", function(d) {
              div.transition()
                 .duration(50)
                 .style("opacity", .9);
              div .html(
                 "Date: " + formatTime(d.x) +
                "<br/>"  + "Value: " + d.y +
                "<br/>"  + "Time: " + d.time + 
                "<br/>"  + "Gas: " + d.key)     
         .style("left", (d3.event.pageX) + "px")             
         .style("top", (d3.event.pageY - 28) + "px");

          g1.append("text")
         .attr("x", (innerWidth / 2))             
         .attr("y", 0 - (margin.top / 3))
         .attr("text-anchor", "middle")  
         .style("font-size", "16px") 
         .text("Scatter Plot of Greenhouse Gases/Particulates");      
}
    </script>

  </head>
  <body>
    
    <div><h4>Overview</h4>
    Climate change is an important topic that affects everyone. However, there is little understanding of this topic and there is the tendency to mistake climate change with weather. This article attempts to introduce the residents of Copenhagen to climate change. We present visulizations of some greenhouse gases and particulate matters, and the correlation of these gases with weather conditions and phenomenon. <p>The data used was gotten from the Institut for Milj√∏videnskab of the Aarhus University and saved it as CSV file for visualization processing. The visualizations below use a month's worth of data from the 9th of December 2017 to 9th of January 2018</p> </div>
    <br/> 
    <div><h3> Visualization 1 </h3>
    The first visualization shows the raw data from the AndersenBoulevard.csv. 5 greenhouse gases and 2 particulate matters, each containing 1454 data values were considered. The greenhouse gases are carbon monoxide(CO), nitrogen dioxide(NO2), Nitrogen oxides(NOX), Ozone(O3) and Sulfur dioxide(SO2); the particulate matters are PM10 and PM25. The volume of the data produces a clustered visulaization. So, some buttons have been provided for selection of specific gas/particulate, with changing axes to depict the value range. Also, additional information is provided on each data point to highlight the date and time of data collection, the value recorded and gas/particulate type. Simply hover on a point to get its information. </div>


    <div id=graph1> <svg width="960" height="500"></svg> </div>
    <div id=graph1buttons> </div>
    
<div class="slidecontainer">
 
</div>



 <!--  <input id="slider" type="range" min="00:00" max="23:30" value="00:00" step="1"/>
  
  <span id="range">00:00</span> -->
  </body>
</html>